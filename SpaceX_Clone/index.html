<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <link rel="stylesheet" href="./index.css">
    <title>Document</title>
</head>
<body>

    <header>
        <img src="./img/logo.png" alt="">
        <div>
            <ul class="nav1 ">
                <li>FALCON 9</li>
                <li>FALCON HEAVY</li>
                <li>DRAGON</li>
                <li>STARSHIP</li>
                <li>HUMAN SPACEFLIGHT</li>
                <li>RIDESHARE</li>
                <li>STARSHIELD</li>
                <li>STARLINK</li>
            </ul>

            <ul class="nav nav2">
                <li>MISSION</li>
                <li>LAUNCHES</li>
                <li>CAREERS</li>
                <li>UPDATES</li>
                <li>SHOP</li>
            </ul>

            <ul>
                <li class="nav1">Shop</li>
                <li class="" id="navBtn">
                    <span class="top"></span>
                    <span class="middle"></span>
                    <span class="bottom"></span>
                </li>
            </ul>
        </div>
    </header>
    <div class="bg"></div>



    <section class="sec_1">
        <h2>RECENT LAUNCH</h2>
        <h1>INMARSATâ€™S I-6 F2 MISSION</h1>
        <button>REWATCH</button>
        <i class="bi bi-chevron-down down"></i>
    </section>
    <section class="sec_2">
        <h2>RECENT LAUNCH</h2>
        <h1>HISPASAT AMAZONAS NEXUS MISSION</h1>
        <button>REWATCH</button>
        <i class="bi bi-chevron-down down"></i>
    </section>
    <section class="sec_3">
        <h2></h2>
        <h1>STARSHIP UPDATE</h1>
        <button>REWATCH</button>
        <i class="bi bi-chevron-down down"></i>
    </section>
    <section class="sec_5">
        <h2></h2>
        <h1>STARSHIP SELECTED BY NASA TO SUPPORT SUSTAINED LUNAR EXPLORATION</h1>
        <button>REWATCH</button>
        <i class="bi bi-chevron-down down"></i>
    </section>

    <section class="sec_6">
        <h2>RECENT LAUNCH</h2>
        <h1>STARLINK MISSION</h1>
        <button>REWATCH</button>
        <div>
            <ul>
                <li>SPACE  2022</li>
                <li>TWITTER</li>
                <li>YOUTUBE</li>
                <li>INSTAGRAM</li>
                <li>FLICKR</li>
                <li>LINKEDIN</li>
                <li>PRIVACY</li>
                <li>SUPPLIERS</li>
            </ul>
        </div>
    </section>
    
    <script >
        const nav1 = document.querySelectorAll('.nav1');
        const nav2 = document.querySelector('.nav2');
        const navButton = document.getElementById('navBtn');

       (() => {

            let ready  = true;
            let collapsed = false
            window.addEventListener('resize', checkReady)
            checkWidth()

            function checkReady(){
                if(ready){
                checkWidth()
                ready = false
                setTimeout(()=> ready = true,100)
             }
            }
             

        function checkWidth(){
                if(window.innerWidth < 1330 && !collapsed) foldNav()
                else if(collapsed && window.innerWidth > 1330) unFoldNav()
        }

        function foldNav(){
            Array.from(nav1[0].children).forEach((item)=>{
                nav2.innerHTML+= `<li>${item.textContent}</li>`
            
                })
                nav1.forEach((el)=>el.style.display = 'none')
                collapsed = true;
        }

        function unFoldNav(){
            nav2.innerHTML = Array.from(nav2.children).map((x,i)=>{
                    if(i < 5) return `<li>${x.textContent}</li>`
                }).join('')
                collapsed = false
                nav1.forEach((el)=>el.style.display = 'flex')
        }
        })()



        navButton.addEventListener('click',()=>{
            navButton.classList.toggle('open');
            nav2.classList.toggle('visable')
        })



    </script>
</body>
</html>